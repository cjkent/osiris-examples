<html lang="en">
<head>
  <title>CORS test</title>
  <script lang="JavaScript">

    function getRequest() {
      fetch('https://urqicvtzz1.execute-api.eu-west-1.amazonaws.com/dev/foo')
          .then((response) => response.ok ? response.json() : response.text())
          .then((data) => document.getElementById('msg').innerText = data);
    }

    function postRequest() {
      const url = 'https://urqicvtzz1.execute-api.eu-west-1.amazonaws.com/dev/bar';
      const init = {
        method: 'POST',
        body: JSON.stringify({'foo': 123}),
        headers: {
          'Content-Type': 'application/json' // this ensures it's a non-simple request
        }
      };
      fetch(url, init)
          .then((response) => response.ok ? response.json() : response.text())
          .then((data) => document.getElementById('msg').innerText = data);
    }

  </script>
</head>
<body>
<div id="msg">response goes here</div>
<input type="button" value="get" onclick="getRequest()"/>
<input type="button" value="post" onclick="postRequest()"/>
</body>
</html>
